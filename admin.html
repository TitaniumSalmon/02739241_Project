<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Manage Users</title>
    <link rel="stylesheet" href="styles.css">
    <script src="admin_manage_user.js" defer></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="https://unpkg.com/tailwindcss@%5E1.0/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
    <ul>
        <li><a  href="index.html">Home</a></li>
        <li><a href="room.html">Rooms</a></li>
        <li><a href="lease_contracts.html">Contact</a></li>
        <li><a href="bills_review.html">Bill</a></li>
        <li><a class="active" href="admin.html">Admin Panel</a></li>
    </ul>
    <h1>User Management</h1>
    <table id="userTable" class="table-auto border-collapse border border-gray-300 w-full text-center">
        <thead class="bg-gray-200">
            <tr>
                <th class="border border-gray-300 px-4 py-2">User ID</th>
                <th class="border border-gray-300 px-4 py-2">Username</th>
                <th class="border border-gray-300 px-4 py-2">First Name</th>
                <th class="border border-gray-300 px-4 py-2">Last Name</th>
                <th class="border border-gray-300 px-4 py-2">Email</th>
                <th class="border border-gray-300 px-4 py-2">Phone</th>
                <th class="border border-gray-300 px-4 py-2">Role</th>
                <th class="border border-gray-300 px-4 py-2">Actions</th>
            </tr>
        </thead>
        <tbody class="text-center">
            <!-- User rows will be dynamically populated -->
        </tbody>
    </table>
    <button id="addUserButton" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Add User</button>

    <!-- Modal for editing/adding users -->
    <div id="userModal" style="display: none;">
        <h2 id="modalTitle">Edit User</h2>
        <div id="userForm">
            <input type="hidden" id="userId" name="user_id">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="firstname">First Name:</label>
            <input type="text" id="firstname" name="firstname" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="lastname">Last Name:</label>
            <input type="text" id="lastname" name="lastname" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="phone">Phone:</label>
            <input type="text" id="phone" name="phone" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="role">Role:</label>
            <select id="role" name="role" required class="border border-gray-300 rounded px-2 py-1">
                <option value="guest">Guest</option>
                <option value="tenant">Tenant</option>
                <option value="admin">Admin</option>
            </select><br>
            <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Save</button>
            <button type="button" id="cancelButton" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Cancel</button>
        </div>
    </div>


    <h1>Room Reservations</h1>
    <table id="reservationTable" class="table-auto border-collapse border border-gray-300 w-full text-center">
        <thead class="bg-gray-200">
            <tr>
                <th class="border border-gray-300 px-4 py-2">Reservation ID</th>
                <th class="border border-gray-300 px-4 py-2">User ID</th>
                <th class="border border-gray-300 px-4 py-2">Room ID</th>
                <th class="border border-gray-300 px-4 py-2">Reservation Date</th>
                <th class="border border-gray-300 px-4 py-2">Status</th>
                <th class="border border-gray-300 px-4 py-2">Payment Status</th>
                <th class="border border-gray-300 px-4 py-2">Actions</th>
            </tr>
        </thead>
        <tbody class="text-center">
            <!-- Reservation rows will be dynamically populated -->
        </tbody>
    </table>
    <button id="addReservationButton" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Add Reservation</button>

    <!-- Modal for editing/adding reservations -->
    <div id="reservationModal" style="display: none;">
        <h2 id="reservationModalTitle">Edit Reservation</h2>
        <form id="reservationForm">
            <input type="hidden" id="reservationId" name="reservation_id">
            <label for="userId">User ID:</label>
            <input type="number" id="userId" name="user_id" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="roomId">Room ID:</label>
            <input type="number" id="roomId" name="room_id" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="reservationDate">Reservation Date:</label>
            <input type="date" id="reservationDate" name="reservation_date" required class="border border-gray-300 rounded px-2 py-1"><br>
            <label for="status">Status:</label>
            <select id="status" name="status" required class="border border-gray-300 rounded px-2 py-1">
                <option value="pending">Pending</option>
                <option value="confirmed">Confirmed</option>
                <option value="cancelled">Cancelled</option>
            </select><br>
            <label for="paymentStatus">Payment Status:</label>
            <select id="paymentStatus" name="payment_status" required class="border border-gray-300 rounded px-2 py-1">
                <option value="pending">Pending</option>
                <option value="paid">Paid</option>
                <option value="refunded">Refunded</option>
            </select><br>
            <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Save</button>
            <button type="button" id="cancelReservationButton" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Cancel</button>
        </form>
    </div>
</body>
</html>
